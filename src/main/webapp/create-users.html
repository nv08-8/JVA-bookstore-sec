<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>Create Test Users</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600&family=Roboto:wght@300;400;500;700&display=swap&subset=vietnamese" rel="stylesheet">
    <style>
        body {
            font-family: 'Roboto', 'Segoe UI', 'Helvetica Neue', Arial, sans-serif;
            background: #f5f7fb;
            color: #1f2937;
            margin: 0;
            padding: 2rem;
        }

        h2, h3 {
            font-family: 'Playfair Display', 'Times New Roman', serif;
            margin-bottom: 1rem;
        }
    </style>
</head>
<body>
    <h2>Creating Test Users...</h2>
    <div id="results"></div>
    
    <script>
        const users = [
            { username: 'testuser', email: 'test@example.com', password: '123456' },
            { username: 'shino', email: 'shino@example.com', password: '123456' }
        ];
        
        async function createUsers() {
            const resultsDiv = document.getElementById('results');
            
            for (const user of users) {
                try {
                    const response = await fetch('/api/auth/register', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/x-www-form-urlencoded',
                        },
                        body: new URLSearchParams(user)
                    });
                    
                    const data = await response.json();
                    const p = document.createElement('p');
                    p.textContent = `${user.username}: ${data.message || data.error}`;
                    p.style.color = response.ok ? 'green' : 'red';
                    resultsDiv.appendChild(p);
                } catch (error) {
                    const p = document.createElement('p');
                    p.textContent = `${user.username}: Error - ${error.message}`;
                    p.style.color = 'red';
                    resultsDiv.appendChild(p);
                }
            }
            
            const done = document.createElement('h3');
            done.textContent = 'Done! Try logging in with username: testuser or shino, password: 123456';
            resultsDiv.appendChild(done);
        }
        
        createUsers();
    </script>
</body>
</html>
